<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Deep Ocean Password Generator</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
    /* Color Palette */
    :root {
        --color-primary: #0077b6; /* Deep Teal/Blue */
        --color-secondary: #00b4d8; /* Bright Sky Blue */
        --color-text: #111;
        --color-light-bg: #e0f2f7; /* Very Light Blue */
        --color-card-bg: #fff;
        --color-gradient-start: #023e8a; /* Deep Ocean */
        --color-gradient-end: #0077b6;
        --shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
    }

    * {
        box-sizing: border-box;
    }
    body {
        font-family: 'Poppins', sans-serif;
        background: linear-gradient(135deg, var(--color-gradient-start), var(--color-gradient-end));
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        color: var(--color-text);
    }
    .container {
        background: var(--color-card-bg);
        padding: 40px;
        border-radius: 25px;
        box-shadow: var(--shadow);
        width: 450px;
        max-width: 90%;
        text-align: center;
        transition: transform 0.3s ease-in-out;
    }
    .container:hover {
        transform: translateY(-5px);
    }
    
    h1 {
        margin-bottom: 30px;
        color: var(--color-primary);
        font-size: 2em;
        font-weight: 700;
        border-bottom: 2px solid var(--color-secondary);
        padding-bottom: 10px;
    }
    
    /* Input Group Styling */
    .input-group {
        margin-bottom: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 600;
    }
    input[type=number] {
        width: 90px;
        padding: 10px 5px;
        border-radius: 10px;
        border: 2px solid var(--color-secondary);
        text-align: center;
        font-size: 1.1em;
        font-weight: 600;
        transition: border-color 0.3s;
    }
    input[type=number]:focus {
        border-color: var(--color-primary);
        outline: none;
    }

    /* Options (Checkboxes) Styling */
    .options {
        text-align: left;
        font-size: 1em;
        margin-bottom: 25px;
        padding-top: 15px;
        border-top: 1px solid var(--color-light-bg);
    }
    .options label {
        display: flex;
        align-items: center;
        margin: 10px 0;
        cursor: pointer;
        transition: color 0.2s;
        font-weight: 500;
    }
    .options label:hover {
        color: var(--color-primary);
    }
    .options input[type="checkbox"] {
        /* Custom checkbox style */
        appearance: none;
        width: 20px;
        height: 20px;
        border: 2px solid var(--color-secondary);
        border-radius: 5px;
        margin-right: 15px;
        position: relative;
        cursor: pointer;
        transition: all 0.2s;
    }
    .options input[type="checkbox"]:checked {
        background-color: var(--color-primary);
        border-color: var(--color-primary);
    }
    .options input[type="checkbox"]:checked::after {
        content: 'âœ“';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-size: 14px;
    }

    /* Button Styling */
    .buttons-container {
        display: flex;
        gap: 15px;
        margin-bottom: 20px;
    }
    button {
        padding: 12px 25px;
        border: none;
        font-size: 1em;
        border-radius: 10px;
        cursor: pointer;
        transition: background 0.3s, transform 0.1s;
        font-weight: 600;
        letter-spacing: 0.5px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    #generateBtn {
        background: var(--color-primary);
        color: white;
    }
    #generateBtn:hover {
        background: #005f96;
        transform: translateY(-2px);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
    }
    #copyBtn {
        background: var(--color-secondary);
        color: var(--color-text);
    }
    #copyBtn:hover {
        background: #0099b6;
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
    }
    
    /* Password Display Styling */
    #password-display {
        font-family: 'Courier New', monospace;
        word-break: break-all;
        font-weight: 700;
        font-size: 1.2em;
        color: var(--color-primary);
        background: var(--color-light-bg);
        padding: 18px;
        border-radius: 10px;
        min-height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 1px solid var(--color-secondary);
        box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
    }
    
    #copyMsg {
        color: #28a745; /* Green for success */
        font-size: 0.9em;
        margin-top: 10px;
        display: none;
        font-weight: 600;
    }
    
    /* Strength Meter Styling */
    .strength-bar {
        width: 100%;
        height: 14px;
        border-radius: 7px;
        background: var(--color-light-bg);
        margin-top: 20px;
        overflow: hidden;
        border: 1px solid #ddd;
    }
    .strength-bar div {
        height: 100%;
        width: 0%;
        transition: width 0.4s ease-out, background-color 0.4s ease-out;
    }
    #strengthText {
        margin-top: 8px;
        font-weight: 600;
        font-size: 0.9em;
        color: var(--color-primary);
    }
    .error-msg {
        color: #dc3545; /* Red for error */
        font-size: 0.8em;
        margin-top: 5px;
        font-weight: 500;
    }
</style>
</head>
<body>
<div class="container">
    <h1>ðŸ”‘ Password Generator</h1>

    <div class="input-group">
        <label for="length"><b>Password Length:</b></label>
        <input type="number" id="length" value="16" min="6" max="128">
    </div>
    <div id="lengthError" class="error-msg" style="text-align: right;" aria-live="polite">Minimum length is 6.</div>

    <div class="options">
        <label><input type="checkbox" id="includeUpper" checked> Include Uppercase (Aâ€“Z)</label>
        <label><input type="checkbox" id="includeNumbers" checked> Include Numbers (0â€“9)</label>
        <label><input type="checkbox" id="includeSymbols" checked> Include Symbols (!@#...)</label>
    </div>
    <div id="optionsError" class="error-msg" aria-live="polite">You must select at least one character type.</div>

    <div class="buttons-container">
        <button id="generateBtn" onclick="app.generatePassword()">Generate Password</button>
        <button id="copyBtn" onclick="app.copyPassword()">ðŸ“‹ Copy</button>
    </div>

    <div id="password-display" role="status" aria-live="assertive">Click 'Generate Password'</div>
    <div id="copyMsg" aria-live="polite">âœ… Password copied to clipboard!</div>

    <div class="strength-bar"><div id="strengthFill"></div></div>
    <div id="strengthText">Strength: N/A</div>
</div>

<script>
// --- START of Advanced JavaScript Class (Kept from previous iteration) ---
class PasswordGeneratorApp {
    constructor() {
        this.CHAR_SETS = {
            lower: "abcdefghijklmnopqrstuvwxyz",
            upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
            numbers: "0123456789",
            symbols: "!@#$%^&*()-_=+[]{}|;:,.<>/?`~"
        };
        this.dom = {
            lengthInput: document.getElementById('length'),
            upperCheckbox: document.getElementById('includeUpper'),
            numbersCheckbox: document.getElementById('includeNumbers'),
            symbolsCheckbox: document.getElementById('includeSymbols'),
            passwordDisplay: document.getElementById('password-display'),
            copyMsg: document.getElementById('copyMsg'),
            strengthFill: document.getElementById('strengthFill'),
            strengthText: document.getElementById('strengthText'),
            lengthError: document.getElementById('lengthError'),
            optionsError: document.getElementById('optionsError'),
        };
        this.initEventListeners();
        this.validateLength();
        this.updateStrength("");
    }
    initEventListeners() {
        this.dom.lengthInput.addEventListener('input', () => {
            this.validateLength();
            this.updateStrength(this.dom.passwordDisplay.innerText);
        });
        [this.dom.upperCheckbox, this.dom.numbersCheckbox, this.dom.symbolsCheckbox].forEach(cb => {
            cb.addEventListener('change', () => {
                this.validateOptions();
                this.updateStrength(this.dom.passwordDisplay.innerText);
            });
        });
    }
    validateLength() {
        let length = parseInt(this.dom.lengthInput.value);
        const minLength = parseInt(this.dom.lengthInput.min);
        const maxLength = parseInt(this.dom.lengthInput.max);
        
        if (isNaN(length) || length < minLength) {
            this.dom.lengthInput.value = minLength;
            this.dom.lengthError.innerText = `Minimum length is ${minLength}.`;
            this.dom.lengthError.style.display = 'block';
        } else if (length > maxLength) {
            this.dom.lengthInput.value = maxLength;
            this.dom.lengthError.innerText = `Maximum length is ${maxLength}.`;
            this.dom.lengthError.style.display = 'block';
        } else {
            this.dom.lengthError.style.display = 'none';
        }
    }
    validateOptions() {
        const includeUpper = this.dom.upperCheckbox.checked;
        const includeNumbers = this.dom.numbersCheckbox.checked;
        const includeSymbols = this.dom.symbolsCheckbox.checked;
        if (!(true || includeUpper || includeNumbers || includeSymbols)) {
            this.dom.optionsError.style.display = 'block';
            return false;
        } else {
            this.dom.optionsError.style.display = 'none';
            return true;
        }
    }
    generatePassword() {
        this.validateLength();
        if (!this.validateOptions()) {
            this.dom.passwordDisplay.innerText = "Select character types!";
            this.updateStrength("");
            return;
        }
        const length = parseInt(this.dom.lengthInput.value);
        const includeUpper = this.dom.upperCheckbox.checked;
        const includeNumbers = this.dom.numbersCheckbox.checked;
        const includeSymbols = this.dom.symbolsCheckbox.checked;
        let allChars = this.CHAR_SETS.lower;
        const requiredChars = [];
        requiredChars.push(this.getRandomChar(this.CHAR_SETS.lower));
        if (includeUpper) {
            allChars += this.CHAR_SETS.upper;
            requiredChars.push(this.getRandomChar(this.CHAR_SETS.upper));
        }
        if (includeNumbers) {
            allChars += this.CHAR_SETS.numbers;
            requiredChars.push(this.getRandomChar(this.CHAR_SETS.numbers));
        }
        if (includeSymbols) {
            allChars += this.CHAR_SETS.symbols;
            requiredChars.push(this.getRandomChar(this.CHAR_SETS.symbols));
        }
        if (requiredChars.length > length) {
            this.dom.passwordDisplay.innerText = `Error: Length (${length}) is too short for selected options.`;
            this.updateStrength("");
            return;
        }
        let password = requiredChars.join('');
        const remainingLength = length - password.length;
        for (let i = 0; i < remainingLength; i++) {
            password += this.getRandomChar(allChars);
        }
        password = this.shuffleString(password);
        this.dom.passwordDisplay.innerText = password;
        this.dom.copyMsg.style.display = 'none';
        this.updateStrength(password);
    }
    getRandomChar(charSet) {
        return charSet.charAt(Math.floor(Math.random() * charSet.length));
    }
    shuffleString(str) {
        return str.split('').sort(() => Math.random() - 0.5).join('');
    }
    copyPassword() {
        const password = this.dom.passwordDisplay.innerText;
        if (password && !password.includes('Click') && !password.includes('Error') && !password.includes('Select')) {
            navigator.clipboard.writeText(password).then(() => {
                this.dom.copyMsg.style.display = 'block';
                setTimeout(() => this.dom.copyMsg.style.display = 'none', 1500);
            }).catch(err => {
                console.error('Copy failed:', err);
            });
        }
    }
    updateStrength(password) {
        const length = password.length;
        let score = 0;
        
        if (password.match(/[a-z]/)) score++;
        if (password.match(/[A-Z]/)) score++;
        if (password.match(/[0-9]/)) score++;
        if (password.match(/[!@#$%^&*()-_=+\[\]{}|;:,.<>/?`~]/)) score++; 

        let lengthScore = 0;
        if (length >= 10) lengthScore = 1;
        if (length >= 16) lengthScore = 2;

        let totalStrength = score + lengthScore;
        
        let width = (totalStrength / 6) * 100;
        let color = "var(--color-light-bg)";
        let text = "N/A";
        
        // Use a vibrant scale for professional look
        if (totalStrength <= 2) {
            color = "#dc3545"; // Red
            text = "Too Weak";
        } else if (totalStrength === 3) {
            color = "#ffc107"; // Yellow
            text = "Weak";
        } else if (totalStrength === 4) {
            color = "#20c997"; // Mint Green
            text = "Medium";
        } else if (totalStrength === 5) {
            color = "#00bcd4"; // Cyan
            text = "Strong";
        } else if (totalStrength >= 6) {
            color = "#28a745"; // Success Green
            text = "Excellent";
        }

        if (!password || password.includes('Click') || password.includes('Error') || password.includes('Select')) {
            width = 0;
            color = "var(--color-light-bg)";
            text = "N/A";
        } 
        
        this.dom.strengthFill.style.width = width + "%";
        this.dom.strengthFill.style.background = color;
        this.dom.strengthText.innerText = "Strength: " + text;
    }
}
const app = new PasswordGeneratorApp();
// --- END of Advanced JavaScript Class ---
</script>
</body>
</html>
